\documentclass[11pt]{amsart}
\usepackage{geometry}                % See geometry.pdf to learn the layout options. There are lots.
\geometry{letterpaper}                   % ... or a4paper or a5paper or ... 
\input{p.tex}
\title{Approximating the Optimal State Abstraction}
\author{}
\date{}                                           % Activate to display a given date or no date

% --- Note Commands ---
\newcommand\davenote[1]{\textcolor{blue}{Dave: #1}}

\begin{document}
\maketitle
\section{Results}

Recall, there is a ground MDP $M$ we want to solve. We homogenize to an MDP $M'$, and apply $\phi$ to $M'$ to get an abstract MDP $A$.

For each approximate $\phi$ type, we want to show, $\forall_{\epsilon} : \epsilon \in [0 : \infty)$
\begin{equation}
\forall_{s,a} : | V^{\pi^*_M}(s) - V^{\pi^*_{M'}}(s) | \leq \epsilon
\end{equation}

We consider four $\phi$ types:
% phi model
\begin{align*}
\encircle{\text{ $\phi_m$ }}\ & : \phi_{m}(s_1) = \phi_m(s_2) \rightarrow \forall_a |\mathcal{R}(s_1,a) - \mathcal{R}(s_2,a)| \leq \epsilon \ \wedge\ 
\forall_{a,s' \in \phi^{-1}(\bar{s})} | \mathcal{T}(s_1,a,s') - \mathcal{T}(s_2,a,s') | \leq \epsilon \\
\encircle{\text{ $\phi_{Q^*}$ }}\ & : \phi_{Q^*}(s_1) = \phi_{Q^*}(s_2) \rightarrow \forall_a |Q^*(s_1,a) - Q^*(s_2,a)| \leq \epsilon \\
\encircle{\text{ $\phi_{D}$ }}\ & : \phi_D(s_1) = \phi_D(s_2) \rightarrow \Delta \left( \Pr_{a \in \mathcal{A}}(a \mid s_1) \mid\mid \Pr_{a \in \mathcal{A}}(a \mid s_2) \right) \leq \epsilon \\
\encircle{\text{ $\phi_{a^*}$ }}\ & : \phi_{a^*}(s_1) = \phi_{a^*}(s_2) \rightarrow \argmax_a Q^*(s_1,a) = \argmax_a Q^*(s_2, a) \wedge |\max_a Q^*(s_1,a) - \max_a Q^*(s_2,a)| \leq \epsilon  \\
\end{align*}

% Other results to consider: phi compression can be arbitrarily bad for other methods of approximate compression. Sample complexity increase can be arbitrarily large.

\newpage
% Subsection: phi_m Results
\section{$\phi_{m}$ Results}


\newpage
% Subsection: phi_Q^* Results
\section{$\phi_{Q^*}$ Results}

We know:
\begin{equation}
\forall_{s,a} : | Q^{\pi^*_M}(s,a) - Q^{\pi^*_{M'}}(s,a)| \leq \epsilon
\label{eq:phi_q_assumption}
\end{equation}

Since `max' is a non-expansion, we know:
\begin{equation}
\forall_s : |\max_a Q^{\pi^*_M}(s,a) - \max_{a'} Q^{\pi^*_{M'}}(s,a')| \leq \max_b | Q^{\pi^*_M}(s,b) - Q^{\pi^*_{M'}}(s,b)|
\end{equation}

From Equation~\ref{eq:phi_q_assumption}, we know:
\begin{equation}
\forall_s : |\max_a Q^{\pi^*_M}(s,a) - \max_{a'} Q^{\pi^*_{M'}}(s,a')| \leq \max_b | Q^{\pi^*_M}(s,b) - Q^{\pi^*_{M'}}(s,b)| \leq \epsilon
\end{equation}

But since $\forall_\pi : V^{\pi} = \max_a Q^\pi(s,a)$, we conclude:
\begin{equation}
\forall_s : |V^{\pi^*_M}(s) - V^{\pi^*_{M'}}(s)| \leq \epsilon
\end{equation}
\qed

\newpage
% Subsection: phi_D Results
\section{$\phi_{D}$ Results}

\newpage
% Subsection: phi_a^* Results
\section{$\phi_{a^*}$ Results}



% --- BIBLIOGRAPHY ---
\newpage
\bibliography{sca_bib}

\end{document}
